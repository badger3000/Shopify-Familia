function changeGridLayout(){let e=document.getElementById("CollectionProductsContainer"),t=document.querySelectorAll(".sort-grid-icon");Array.from(t).forEach(function(e){e.classList.remove("active")});var o=Cookies.get("grid_layout_collection");e&&t.length>0&&(window.innerWidth<768?o&&"grid-layout-4"!=o&&"grid-layout-5"!=o?(document.querySelector('.sort-grid-icon[data-value="'+o+'"]').classList.add("active"),e.setAttribute("data-view",o)):(document.querySelector('.sort-grid-icon[data-value="grid-layout-2"]').classList.add("active"),e.setAttribute("data-view","grid-layout-2")):window.innerWidth>=768&&window.innerWidth<992?o&&"grid-layout-4"!=o&&"grid-layout-5"!=o?(document.querySelector('.sort-grid-icon[data-value="'+o+'"]').classList.add("active"),e.setAttribute("data-view",o)):(document.querySelector('.sort-grid-icon[data-value="grid-layout-3"]').classList.add("active"),e.setAttribute("data-view","grid-layout-3")):window.innerWidth>=992&&(o?(document.querySelector('.sort-grid-icon[data-value="'+o+'"]').classList.add("active"),e.setAttribute("data-view",o)):(document.querySelector('.sort-grid-icon[data-value="grid-layout-4"]').classList.add("active"),e.setAttribute("data-view","grid-layout-4"))),updateGridView(e))}function hideShowFilters(){var e=document.getElementById("filterHeading"),t=document.getElementById("filterSideBar");let o=document.getElementById("CollectionProductsContainer");if(window.innerWidth<768?o&&e&&e.classList.contains("filters-drawer-toggle")&&o.classList.add("filters-toggle"):t&&(t.classList.remove("active"),document.querySelector("body").classList.remove("open-filter-sort")),0==hideShowFiltersEvent){e&&e.addEventListener("click",r=>{window.innerWidth>767?o&&e&&e.classList.contains("filters-drawer-toggle")&&DOMAnimations.classToggle(o,"filters-toggle"):(t.classList.add("active"),document.querySelector("body").classList.add("open-filter-sort"))});var r=document.getElementById("cancelFilters");r&&r.addEventListener("click",e=>{e.preventDefault(),t.classList.remove("active"),document.querySelector("body").classList.remove("open-filter-sort")}),hideShowFiltersEvent=!0}}function showMoreFilters(){const e=document.getElementById("FiltersForm");if(e){var t=e.querySelectorAll(".filters-expand");t&&Array.from(t).forEach(function(e){e.addEventListener("click",t=>{t.preventDefault(),e.classList.contains("active")?(e.classList.remove("active"),DOMAnimations.slideUp(e.parentNode.querySelector(".more-options"),150),e.querySelector("span").textContent=showMoreText):(e.classList.add("active"),DOMAnimations.slideDown(e.parentNode.querySelector(".more-options"),150),e.querySelector("span").textContent=showLessText)})})}}function applyFilters(){var e=document.getElementById("CollectionProductsContainer");if(e){var t=e.closest(".shopify-section"),o=e.dataset.id;const s=document.getElementById("FiltersForm");if(!s)return!1;var r=t.querySelectorAll(".sort-grid-icon");Array.from(r).forEach(function(t){t.addEventListener("click",o=>{if(o.preventDefault(),!t.classList.contains("active")){t.classList.add("active");let o=e.querySelectorAll(".aos-init");Array.from(o).forEach(function(e){e.classList.remove("aos-animate"),e.classList.remove("aos-init")}),setTimeout(function(){Array.from(r).forEach(function(e){e!=t&&e.classList.remove("active")});var o=t.dataset.value;e.setAttribute("data-view",o),updateGridView(e);var i=new Date;i.setTime(i.getTime()+parseInt(864e5)),Cookies.set("grid_layout_collection",o,{expires:i,path:"/"});let n=e.querySelectorAll(".lazyloaded");Array.from(n).forEach(function(e){e.classList.remove("lazyloaded"),e.classList.add("lazyload")}),animationStatus&&AOS&&AOS.refreshHard()},800)}})});var i=s.querySelectorAll(".mall-slider-handles");if(Array.from(i).forEach(function(t){var r=t,i="";i=r.noUiSlider?r.noUiSlider:noUiSlider.create(r,{start:[r.dataset.start,r.dataset.end],step:1,connect:!0,tooltips:!1,range:{min:[parseInt(r.dataset.min)],max:[parseInt(r.dataset.max)]}}),window.innerWidth>767&&i.on("change",function(r){var i=$(this)[0].options.range.min,n=$(this)[0].options.range.max,a=parseInt(r[0]);moneyFormat;a>i&&(e.querySelectorAll('input[name="filter.v.price.gte"]')[0].value=a);var l=parseInt(r[1]);l<n&&(e.querySelectorAll('input[name="filter.v.price.lte"]')[0].value=l),getFilterData(t,o)}),i.on("update",function(t){var o=$(this)[0].options.range.min,r=$(this)[0].options.range.max,i=parseInt(t[0]);i>o&&(e.querySelectorAll('input[name="filter.v.price.gte"]')[0].value=i);var n=parseInt(t[1]);n<r&&(e.querySelectorAll('input[name="filter.v.price.lte"]')[0].value=n)})}),window.innerWidth>767){var n=s.querySelectorAll("input[type=number]");Array.from(n).forEach(function(e){e.addEventListener("change",()=>{getFilterData(e,o)})});var a=s.querySelectorAll("input[type=checkbox]");Array.from(a).forEach(function(e){e.addEventListener("click",()=>{getFilterData(e,o)})})}else s.addEventListener("submit",e=>{e.preventDefault(),getFilterData(s,o),document.querySelector("body").classList.remove("open-filter-sort")});var l=e.querySelectorAll("a.yv-applied-filter-remove");Array.from(l).forEach(function(e){e.addEventListener("click",t=>{t.preventDefault();var r=e.getAttribute("href");getFilterData(e,o,r)})})}}function sortByOptions(){var e=document.getElementById("CollectionProductsContainer"),t=document.querySelectorAll('[name="sort_by"]');if(e){var o=e.dataset.id;Array.from(t).forEach(function(e){e.addEventListener("change",r=>{r.preventDefault(),Array.from(t).forEach(function(e){e.parentNode.classList.remove("selected")}),e.parentNode.classList.add("selected");var i=document.getElementById("sort__list");i.classList.contains("active")&&(i.classList.remove("active"),window.innerWidth>767?DOMAnimations.slideUp(i):document.querySelector("body").classList.remove("open-filter-sort")),document.querySelector("body").classList.remove("open-filter-sort"),getFilterData(e,o)})})}}function sortBy(){var e=document.querySelector(".collection-sortby-selected");e&&e.addEventListener("click",e=>{e.preventDefault();var t=document.getElementById("sort__list");t.classList.contains("active")?(t.classList.remove("active"),window.innerWidth>767?DOMAnimations.slideUp(t):document.querySelector("body").classList.remove("open-filter-sort")):(t.classList.add("active"),window.innerWidth>767?DOMAnimations.slideDown(t):document.querySelector("body").classList.add("open-filter-sort"))});var t=document.querySelector(".close-sort");t&&t.addEventListener("click",e=>{e.preventDefault();var t=document.getElementById("sort__list");window.innerWidth<768&&(t.classList.remove("active"),document.querySelector("body").classList.remove("open-filter-sort"))})}function updateGridView(e){if(e){var t=document.getElementById("CollectionProductsContainer"),o=t.getAttribute("data-view"),r=e.querySelectorAll("[data-product-grid]");r.length>0&&Array.from(r).forEach(function(e){"grid-layout-2"==o?e.setAttribute("class",layout2):"grid-layout-3"==o?e.setAttribute("class",layout3):"grid-layout-4"==o?e.setAttribute("class",layout4):"grid-layout-5"==o&&e.setAttribute("class",layout5)})}}function fetchFilterData(e){return fetch(e).then(e=>e.text())}function getFilterData(e,t,o){let r=document.getElementById("CollectionProductsContainer").querySelectorAll(".aos-init");Array.from(r).forEach(function(e){e.classList.remove("aos-animate"),e.classList.remove("aos-init")});let i=document.getElementById("FiltersForm");const n=new FormData(i);var a=new URLSearchParams(n).toString(),l=document.getElementById("yv-applied-filter-cross-all"),s=window.location.pathname+"?section_id="+t+"&"+a,c=window.location.pathname+"?"+a;o&&(s=o,c=o);fetchFilterData(s).then(t=>{const o=(new DOMParser).parseFromString(t,"text/html");var r=o.querySelector(".products-count"),i="";o.getElementById("toolbox-sort")&&(i=o.getElementById("toolbox-sort").innerHTML);var n=o.getElementById("CollectionProductsContainer"),a=o.getElementById("yv-applied-filter-cross-all");a?document.getElementById("yv-applied-filter-cross-all")||document.querySelector(".yv-filter-sidebar-heading").appendChild(a):l&&l.remove();var s=document.getElementById("CollectionProductsContainer");if(updateGridView(n),n)s.innerHTML=n.innerHTML;else{let e=s.querySelector("[data-collection-products]");e&&(e.innerHTML=noResultFound)}let d=e.getAttribute("id"),u=document.getElementById(d);if(u){u.focus();let e=u.closest(".more-options");if(e){e.style.display="block";let t=u.closest(".yv-filter-content").querySelector(".filters-expand");t&&(t.classList.add("active"),t.querySelector("span").innerHTML=showLessText)}}r&&(document.querySelector(".products-count").innerHTML=r.innerHTML),document.getElementById("toolbox-sort")&&(document.getElementById("toolbox-sort").innerHTML=i),sortBy(),applyFilters(),showMoreFilters(),hideShowFiltersEvent=!1,hideShowFilters(),animationStatus&&AOS&&AOS.refreshHard(),"sort_by"!=e.getAttribute("name")&&s.closest(".yv-collection-container")&&s.closest(".yv-collection-container").scrollIntoView({top:150,behavior:"smooth"}),history.pushState({},null,c)})}function ScrollExecute(){var e=$("#more").last(),t=e.find("a").attr("href");screenVisibility(e)&&0==triggered&&(triggered=!0,$.ajax({url:t,type:"GET",beforeSend:function(){e.find(".load").removeClass("hidden")}}).done(function(t){e.remove();var o=document.createElement("div");o.innerHTML=$(t).find("#CollectionProductsContainer").html(),updateGridView(o),$("[data-collection-products]").append(o.querySelector("[data-collection-products]").innerHTML),productVariants(),animationStatus&&AOS&&AOS.refreshHard(),triggered=!1}))}var layout2="col-6 col-sm-6 col-md-6 col-lg-6 col-xl-6",layout3="col-6 col-sm-6 col-md-4 col-lg-4 col-xl-4",layout4="col-6 col-sm-6 col-md-4 col-lg-3 col-xl-3",layout5="col-6 col-sm-6 col-md-3 col-lg-3 col-xl-2",hideShowFiltersEvent=!1;window.addEventListener("load",e=>{changeGridLayout(),hideShowFilters(),applyFilters(),sortByOptions(),showMoreFilters(),sortBy()}),window.addEventListener("resize",function(e){changeGridLayout(),applyFilters(),hideShowFilters();var t=document.getElementById("filterSideBar");t&&window.innerWidth<768&&window.innerWidth>760&&(t.style.display="none",setTimeout(function(){t.style.display=""},500))});let triggered=!1;$(document).ready(function(){$(window).scroll(function(){ScrollExecute()})});