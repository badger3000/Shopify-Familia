function removeHtmlEntities(e){const t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"};return e.replace(/([&<>\"'])/g,e=>t[e])}function searchTabsInit(){var e=document.getElementsByClassName("yv-tab-result-head");if(e.length>0){var t=document.getElementsByClassName("yv-search-result-list");Array.from(e).forEach(function(r){r.addEventListener("click",a=>{a.preventDefault(),Array.from(e).forEach(function(e){e.classList.remove("active")});let s=r.getAttribute("data-resulturl"),n=document.querySelector(".search-bar-container");if(n){let e=n.querySelector(".search-result-bottom");n&&e.setAttribute("href",s)}Array.from(t).forEach(function(e){e.classList.remove("active")}),r.classList.add("active");var c=r.getAttribute("data-results");document.getElementById(c).classList.add("active")})})}}var searchTyping;document.addEventListener("DOMContentLoaded",searchTabsInit,!1),document.addEventListener("shopify:section:load",searchTabsInit,!1),$(document).ready(function(){function e(){$("#recent_search_list").html(""),$(".recent-search-list").siblings(".yv-search-result-container").removeClass("no-recent");var e="",t=!1;setTimeout(function(){var r=localStorage.getItem("Recent_search"),a=JSON.parse(r);if($(".recent-search-list").html(""),null==a)$(".recent-search-list").html(""),$(".recent-search-list").siblings(".yv-search-result-container").addClass("no-recent");else{e=e.concat('<h6 class="recent-search-title">'+searchRecentTitleText+"</h6>"),e=e.concat('<ul class="list-unstyled recent-search-listing">');var s=a.reverse();$.each(s,function(r,a){var s="";if(rootUrl.length>1&&(s=rootUrl),r<10){jQuery.ajax({type:"GET",url:s+"/products/"+a+".json",success:function(r){t=!0;let a=r.product,n=noProductImage,c=$("<div>"+a.title+"</div>").text();a.image&&(n=`<img src="${a.image.src}" alt="${removeHtmlEntities(c)}">`),e+=`<li><a class="focus-inside" href="${s}/products/${a.handle}">\n\t\t\t\t\t      ${n}<span>${truncate(removeHtmlEntities(c),2)}</span></a></li>`},error:function(e){console.log("Error: "+e)}})}}),$(document).ajaxStop(function(){e=e.concat("</ul>"),t&&($("#recent_search_list").html(e),focusElementsRotation($(".search-bar-container")))})}},500)}$("body").on("click",".search-form",function(t){t.preventDefault(),focusElement=$(".search-form");var r=$(this).data("search-drawer");$("body").toggleClass(r),$("input.search-input").trigger("focus"),$("#recent_search_list").html(""),e(),focusElementsRotation($(".search-bar-container"))});var t=$(".yv-search-result-container");$(".AjaxSearchResponse").prepend(""),$(".search-close").show(),$("body").on("keydown",".search-input",function(e){clearTimeout(searchTyping)}),$("body").on("keyup",".search-input",function(e){clearTimeout(searchTyping);var r=$(this),a=($("[data-search-drawer]").data("search-drawer"),localStorage.getItem("Recent_search")),s=JSON.parse(a);if(null==s)s=[];var n=$(this).closest("form");searchTyping=setTimeout(function(){t.html(preLoadLoadGif);var e=n.find('input[name="q"]').val(),a="product";searchPageResults&&(a+=",page"),searchArticleResults&&(a+=",article"),e.length>2&&e!=r.data("oldval")?fetch("/search/suggest?section_id=predictive-search&q="+e+"&resources[type]="+a+"&resources[options][fields]=author,tag,title,product_type,variants.title,vendor,variants.sku").then(e=>e.text()).then(e=>{let r=(new DOMParser).parseFromString(e,"text/html").querySelector("#shopify-section-predictive-search").innerHTML;t.html(r),searchTabsInit(),focusElementsRotation($(".search-bar-container"))}):e.length<=2&&(t.empty(),focusElementsRotation($(".search-bar-container")))},1e3)}),$(".search-form, #search-form").on("submit",function(e){e.preventDefault();var t="*"+$(this).find('input[name="q"]').val()+"*",r=$(this).attr("action")+"?q="+t+"&options%5Bprefix%5D=last";window.location=r}),$("body").on("click",".yv-search-drawer-close",function(e){e.preventDefault(),$("input.form-control.search-input").val(""),t.empty(),$("body").removeClass("addsearch"),stopFocusElementsRotation(),focusElement.trigger("focus")})});